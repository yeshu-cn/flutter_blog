{"title":"DialogFragment调用dismiss()过快","createTime":1535426547000,"updateTime":-1,"category":"default","content":" \n  \n DialogFragment的创建显示过程和dismiss()调用是一个异步操作 \n  \n 所以dimiss()必须在Dialog完全显示后才能调用，否则会出现异常，如： \n  \n ``` \n MyDialog dialog = MyDialog.newInstance(); \n dialog.show(getSupportFragmentManager(), \"\"); \n dialog.dismissAllowingStateLoss(); \n  \n log: \n ----->dismissAllowingStateLoss   \n ----->onActivityCreated \n ``` \n  \n onActivityCreated在dismissAllowingStateLoss后执行会造成两种可能 \n  \n * Dialog创建成功，一直显示，不会隐藏 \n * onActivityCreated中mDialog为null,导致程序崩溃  \n  \n  \n  \n "}