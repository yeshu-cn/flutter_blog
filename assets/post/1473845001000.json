{"title":"Android 内存不足，配置变化时处理机制","createTime":1473845001000,"updateTime":-1,"category":"default","content":" \n  \n |     |A configuration change| \tAn activity restart | A process restart| \n |-----|----------------------|------------------------|-------------------| \n |Dialog\t|reset               |\treset\t|reset| \n |Activity, View, Fragment\t|save/restore|save/restore|save/restore| \n |Fragment with setRetainInstance(true)\t|no change|save/restore|save/restore| \n |Static variables and threads|\tno change\t|no change |reset| \n  \n  \n  \n 当设置变化时，例如横竖屏切换，Activity会被销毁并立即被重建，而View、Fragment、Dialog也自然如此，除了Fragment被设置为setRetainInstance(true)状态时不会被销毁重建，不影响静态变量和线程状态 \n \t \n \tSome device configurations can change during runtime (such as screen orientation, keyboard availability, and language). When such a change occurs, Android recreates the running activity (the system calls onDestroy(), then immediately calls onCreate()). \n \t \n 当用户开启了“Don’t keep activities”选项或者内存不足时，Activity、Dialog、View、Fragment（包括设置为setRetainInstance(true)状态的）都会被销毁重建，不影响静态变量和线程状态 \n \t \n 当系统内存不足，且程序不在前台运行时，当再次回到程序时，程序的进程有可能会被重启，这会导致静态变量和线程状态都会被重置 \n  \n [参考](http://blog.waynell.com/2015/05/29/mvp-on-android/) \n "}