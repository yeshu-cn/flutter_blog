{"title":"MediaPlayer使用","createTime":1470355451000,"updateTime":1470355838000,"category":"default","content":" \n  \n  \n MediaPlayer有时没有回调OnCompletionListener,并报错：｀MediaPlayer finalized without being released｀ \n  \n ```java \n         MediaPlayer mediaPlayer = MediaPlayer.create(mContext, rawId); \n         mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() { \n             @Override \n             public void onCompletion(MediaPlayer mp) { \n                 mp.release(); \n             } \n         }); \n         mediaPlayer.start(); \n ``` \n  \n 原因：成员变量被gc回收了，导致没有回调成功（或者播放至一半就停了）。保持mediaPlayer引用，防止被改成回收 \n  \n  \n  \n  \n 参考：http://stackoverflow.com/questions/15023037/garbage-collection-causes-mediaplayer-finalized-without-being-released"}